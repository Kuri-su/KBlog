+++
date = "2019-02-16"
title = "golang fmt.printf 参数笔记"
slug = "golang-fmtprintf-unswf"
categories = [ "gist" ]
tags = [ "gist" ]
katex = false
headline = "在学校学C的时候的那些基本忘光了。。"
+++



> 在学校学C的时候的那些基本忘光了。。

**通用：**
```
%v     以值的默认格式表示
       打印结构时，加号标志 （%+v） 将会添加字段名称
%#v    以 Go 的语法表示
%+v    如果输出的是结构体,将带上它的字段名
%T     输出值的类型
%%     转义百分号
```

**布尔值：**

```
%t     输出 单词 true 或 false
```

**整数：**
```
%b     表示为二进制
%o     表示为八进制
%d     表示为十进制
%q     表示go语法字符字面量
%x     表示为十六进制，使用 a-f
%X     表示为十六进制，使用 A-F
%c     表示为对应的 unicode 码值
%U     表示为 Unicode 格式： U+1234，等价于 "U+%04X"
```

**浮点数与复数**
```
%b     无小数部分、二进制指数的科学计数法，如 -12345p-64;
%e     科学计数法，如 -1234.456e+78
%E     科学计数法，如 -1234.456E+78
%f     有小数部分但无指数部分，如 123.456000，
	   // 注: 否则将表现为 1.231230e+02
%F     等价于 %f

%g     根据实际情况采用 %e 或 %f 格式 （以获得更加准确、简洁的输出）
%G     根据实际情况采用 %E 或 %F 格式（以获得更加准确、简洁的输出）
```


**字符串和[]byte**
```
%s     直接输出 字符串 或者 []byte
%q     对于双引号括起来的 golang 语法字符串字面量，必要时会采用安全的转义表示
%x     每个字节用两字符十六进制数表示 （使用 a-f）
%X     每个字节用两字符十六进制数表示 （使用 A-F）
```

**指针**

```
%p     表示为十六进制，并加上前导的 0x
```

**宽度和精度**
宽度通过一个紧跟在百分号后面的十进制数指定。
精度通过宽度后跟点号后跟的十进制数指定。
```
%f     默认宽度，默认精度
%9f    宽度9，默认精度
%.2f   默认宽度，精度2
%9.2f  宽度9，精度2
%9.f   宽度9，精度0
```

宽度和精度格式化控制的是 unicode 码值的数量。两者任意一个或者两个都可以使用 * 代替，此时它们的值将被对应的参数。  

（不同于 C 的 printf，他的这两个因数指的是字节的数量）。  

对于大多数类型的值，宽度是输出字符数目的最小数量，如果必要，会用空格填充。

对于字符串 string，精度是输出字符数目的最大数量，如果必要会截断字符串  

对于整数 int，宽度和精度都设置输出总长度，采用精度时表示右对齐并使用 0 填充，而宽度默认使用空格填充。  

对于浮点数 float，宽度设置输出总长度；精度设置小数部分长度（如果有的话），除了 %g 和 %G，此时精度设置总的数字个数。%e 和 %f 的默认精度是 6，%g 的默认精度是可以将该值区分出来需要的最小数字个数

例如： 对数字123.45，格式 %6.2f 输出 123.45；格式 %.4g 输出 123.5

对于复数，宽度和精度会分别用于实部和虚部， 结果用小括号包括， 因此 %f 用于 1.2+3.4i 输出 （1.200000+3.400000）

**其他 flag**
```
"+"    总是输出数值的正负号；对 %q （%+q） 会生成全部是 ASCII 字符的输出 （通过转义）
" "    对于数字进行操作，正数前加空格，复数前加负号
"-"    在输出右边填充空白而不是默认的左边 （即从默认的右对齐切换为左对齐）
"#"    切换格式:
         八进制数前加 0 （%#o）
         十六进制数字前加 0x 或 0X （%#x 或 %#X）
         指针去掉前面的 0x （%#p）
         对于 %q（ %#q ），如果strconv.CanBackquote返回真会输出反引号括起来的未转义字符串；
         对于 %U（ %#U ），输出Unicode格式后，如字符可打印，还会输出空格和单引号括起来的go字面值；
         对于 字符串 采用 %x 或 %X 时（ %x或%X ）会给各打印的字节之间加空格；
"0"    使用 0 而不是空格填充， 对于数值类型会把填充的 0 分在正负号后面
```

